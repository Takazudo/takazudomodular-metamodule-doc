---
title: シミュレーターの使い方
---

## キーボードコントロール

シミュレーターは、ホストコンピューターのキーボードを使用してハードウェアのロータリーエンコーダー、ボタン、ノブ、ジャック（パッチ/アンパッチ）をシミュレートします。

### ナビゲーション

- `左矢印`: エンコーダーを反時計回りに回す
- `右矢印`: エンコーダーを時計回りに回す
- `下矢印`: エンコーダーを押す
- `上矢印`: ボタンを押す（通常、前のページに戻る）

### ノブ

Metamodule のノブは文字（A-F および u-z）でラベル付けされています。キーボードでこれらを回すには、まず文字を押して回したいノブを選択し、次に ] または [ を押してノブを増加/減少させます。

- `a`: ノブ A を選択
- `b`: ノブ B を選択
- `c`: ノブ C を選択
- `d`: ノブ D を選択
- `e`: ノブ E を選択
- `f`: ノブ F を選択
- `u`: ノブ u を選択
- `v`: ノブ v を選択
- `w`: ノブ w を選択
- `x`: ノブ x を選択
- `y`: ノブ y を選択
- `z`: ノブ z を選択

- `[`: 選択したノブを 5% 下げる
- `]`: 選択したノブを 5% 上げる

TODO: `{` と `}` で小さな量で増加/減少させる

コンソールには、回されたノブとその現在の値が報告されます。

### オーディオルーティング

デフォルトでは、Audio Out 1 と Audio Out 2 はそれぞれサウンドカードの左と右の出力にパッチされています。
数字ボタンを押すとルーティングが変更されます:

- `1`: Audio Out 1 -> 左、Audio Out 2 -> 右（デフォルト）
- `2`: Audio Out 2 -> 左、Audio Out 3 -> 右
- `3`: Audio Out 3 -> 左、Audio Out 4 -> 右
- `4`: Audio Out 4 -> 左、Audio Out 5 -> 右
- `5`: Audio Out 5 -> 左、Audio Out 6 -> 右
- `6`: Audio Out 6 -> 左、Audio Out 7 -> 右
- `7`: Audio Out 7 -> 左、Audio Out 8 -> 右
- `8`: Audio Out 8 -> 左、Audio Out 1 -> 右

現時点では、仮想モジュールの入力をテストする唯一の方法は、仮想モジュールからテストしたい仮想モジュールに信号を送るパッチを作成することです。
将来の機能には以下が含まれます:

- ホストコンピューター上の .wav ファイルを入力ジャックにルーティングし、起動時やキーが押されたときに再生する。
- オーディオインターフェースの入力ジャックを入力ジャックにルーティングする。

### ウィンドウ

正確なピクセル配置を確認するためにウィンドウのサイズを変更できます。ウィンドウの右下隅をドラッグします。アスペクト比を維持するには、ドラッグ中に Shift を押したままにします。

コマンドライン引数でズームレベルを指定することもできます（以下を参照）。

---

## コマンドライン引数

実行ファイルにコマンドライン引数を渡すことができます。有効な引数を確認するには、以下を実行します:

```
build/simulator --help
```

または `--help` の代わりに `-h` と入力できます。

現在、以下のオプションがあります:

### オーディオ出力デバイス

`-a #`: 出力に使用するオーディオデバイスインデックスを指定します。シミュレーターを実行し、コンソールログを見て利用可能なデバイスを確認します。例えば、次のように表示される場合があります:

```
SDL: 3 audio devices found
0: DELL P2415Q (selected)
1: Studio Display Speakers
2: Mac Studio Speakers
```

オプションが指定されない場合、デバイス 0 が選択されます。以下のようにすると:

```
build/simulator -a 1
```

Studio Display Speakers が選択されます。

### ズームレベル

`-z ###`: パーセンテージとして初期ズーム量を指定します。デフォルトは 100（1 ハードウェアピクセル = 1 シミュレーターピクセル）です。

ピクセル配置を検査するには、300 以上のズームが便利です。

シミュレーターの実行中にマウスでウィンドウのサイズを変更してズームを変更することもできます。

### パッチファイルディレクトリ

パッチファイルを含む 2 つのモック「ボリューム」があります。`Internal` ボリュームはファクトリーデフォルトパッチのリストです。これは常にロードされます。このリストは `firmware/src/patch_file/patches_default.hh` にあります。

パッチは、ローカルホストコンピューターのディレクトリからもロードされ、`SD Card` ボリュームに表示されます。

`-p path/to/patchfiles/`: パッチファイル（.yml ファイル）を検索するディレクトリ

```
build/simulator -p ~/MyPatchFiles/
```

パスが指定されない場合、`patches/`（simulator/ ディレクトリ内のディレクトリ）が使用されます。

ディレクトリが指定されたが有効なパッチファイルが含まれていない場合（または無効なパスの場合）、シミュレーターはエラーを出力して無視します。
